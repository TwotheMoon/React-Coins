{"version":3,"sources":["api.ts","routes/Chart.tsx","routes/Price.tsx","routes/Coin.tsx","atoms.ts","routes/Coins.tsx","Router.tsx","theme.ts","App.tsx","index.tsx"],"names":["BASE_URL","fetchCoins","fetch","then","response","json","fetchCoinTickers","coinId","Chart","useQuery","endDate","Math","floor","Date","now","startDate","fetchCoinHistory","refetchInterval","isLoading","data","type","series","name","map","price","x","time_close","y","open","toFixed","high","low","close","options","theme","mode","chart","height","width","toolbar","show","background","xaxis","axisBorder","axisTicks","labels","categories","yaxis","PriceWrapper","styled","div","props","isPositive","checkPositive","value","Price","priceData","quotes","USD","market_cap_change_24h","percent_change_30m","percent_change_1h","percent_change_12h","percent_change_24h","Container","Header","header","Title","h1","accentColor","Loader","span","Overview","overviewColor","OverviewItem","coinsTextColor","Description","p","Taps","Tap","isActive","Backspace","BinWrapper","Coin","useParams","state","useLocation","priceMatch","useRouteMatch","chartMatch","fetchCoinInfo","infoLoading","infoData","tickersLoading","tickersData","loading","Helmet","to","rank","symbol","description","total_supply","max_supply","path","isDarkAtom","atom","key","default","CoinsList","ul","li","boxColor","textColor","Img","img","Switch","Coins","setDarkAtom","useSetRecoilState","slice","length","className","onClick","prev","coin","pathname","id","src","toLowerCase","Router","basename","process","darkTheme","bgColor","lightTheme","GlobalStyle","createGlobalStyle","App","isDark","useRecoilValue","initialIsOpen","queryClient","QueryClient","ReactDOM","render","StrictMode","client","document","getElementById"],"mappings":"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","file":"static/js/main.0b80a40d.chunk.js","sourcesContent":["const BASE_URL = `https://api.coinpaprika.com/v1`;\r\n\r\nexport function fetchCoins() {\r\n    return fetch(`${BASE_URL}/coins`).then((response) =>\r\n        response.json()\r\n    );\r\n}\r\n\r\nexport function fetchCoinInfo(coinId: string) {\r\n    return fetch(`${BASE_URL}/coins/${coinId}`).then((response) =>\r\n        response.json()\r\n    );\r\n}\r\n\r\nexport function fetchCoinTickers(coinId: string) {\r\n    return fetch(`${BASE_URL}/tickers/${coinId}`).then((response) =>\r\n        response.json()\r\n    );\r\n}\r\n\r\nexport function fetchCoinHistory(coinId: string) {\r\n    const endDate = Math.floor(Date.now() / 1000); // 무조건 내림 초\r\n    const startDate = endDate - 60 * 60 * 24 * 7 * 2;    // endDate 현재 시점으로 2주전 60초*60분*24시간*7\r\n    return fetch(`${BASE_URL}/coins/${coinId}/ohlcv/historical?start=${startDate}&end=${endDate}`).then((response) =>\r\n        response.json()\r\n    );\r\n}","import { useQuery } from \"react-query\";\r\nimport { fetchCoinHistory } from \"../api\";\r\nimport ApexChart from \"react-apexcharts\";\r\nimport { useRecoilValue } from \"recoil\";\r\nimport { isDarkAtom } from \"../atoms\";\r\n\r\ninterface IHistorical { // api 데이터 타입 정의\r\n    time_open: string;\r\n    time_close: string;\r\n    open: number;\r\n    high: number;\r\n    low: number;\r\n    close: number;\r\n    volume: number;\r\n    market_cap: number;\r\n}\r\ninterface ChartProps { // coinId 변수 데이터 타입 정의\r\n    coinId: string;\r\n}\r\nfunction Chart({ coinId }: ChartProps) {\r\n    const { isLoading, data } = useQuery<IHistorical[]>([\"ohlcv\", coinId], () => fetchCoinHistory(coinId),\r\n        { refetchInterval: 10000, }\r\n    );\r\n    return (\r\n        <div>\r\n            {isLoading ? (\"Loading chart...\"\r\n            ) : (\r\n                <ApexChart \r\n                type=\"candlestick\"\r\n                series={[\r\n                    {\r\n                        name: \"Price\",\r\n                        data: data?.map((price) => ({\r\n                            x: price.time_close,\r\n                            y: [price.open.toFixed(2), price.high.toFixed(2), price.low.toFixed(2), price.close.toFixed(2)],\r\n                        })),\r\n                    },\r\n                ]}\r\n                options={{\r\n                    theme: {\r\n                        mode: \"dark\",\r\n                    },\r\n                    chart: {\r\n                        height: 300,\r\n                        width: 500,\r\n                        toolbar: {\r\n                            show: false,\r\n                        },\r\n                        background: \"transparent\",\r\n                    },\r\n                    xaxis: {\r\n                        axisBorder: { show: true },\r\n                        axisTicks: { show: true },\r\n                        labels: { show: true },\r\n                        type: \"datetime\",\r\n                        categories: data?.map((price) => price.time_close),\r\n                    }, \r\n                    yaxis:{\r\n                        show: false,\r\n                    },\r\n                }}\r\n                ></ApexChart>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Chart;","import { useQuery } from \"react-query\";\r\nimport styled from \"styled-components\";\r\nimport { fetchCoinTickers } from \"../api\";\r\n\r\nconst PriceWrapper = styled.div<{isPositive? : Boolean}>`\r\n    Max-width: 480px;\r\n    height: 40px;\r\n    border-radius: 10px;\r\n    background-color: white;\r\n    color: black;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    font-weight: bold;\r\n    margin-top: 20px;\r\n    span:nth-child(1){\r\n        margin-left: 20px;\r\n        font-size: 13px;\r\n    }\r\n    span:nth-child(2){\r\n        margin-right: 40px;\r\n        color: ${(props) => props.isPositive ? \"lightgreen\" : \"red\"};\r\n    }\r\n`;\r\n\r\ninterface PriceData {\r\n    id: string;\r\n    name: string;\r\n    symbol: string;\r\n    rank: number;\r\n    circulating_supply: number;\r\n    total_supply: number;\r\n    max_supply: number;\r\n    beta_value: number;\r\n    first_data_at: string;\r\n    last_updated: string;\r\n    quotes: {\r\n        USD: {\r\n            ath_date: string;\r\n            ath_price: number;\r\n            market_cap: number;\r\n            market_cap_change_24h: number;\r\n            percent_change_1h: number;\r\n            percent_change_1y: number;\r\n            percent_change_6h: number;\r\n            percent_change_7d: number;\r\n            percent_change_12h: number;\r\n            percent_change_15m: number;\r\n            percent_change_24h: number;\r\n            percent_change_30d: number;\r\n            percent_change_30m: number;\r\n            percent_from_price_ath: number;\r\n            price: number;\r\n            volume_24h: number;\r\n            volume_24h_change_24h: number;\r\n        }\r\n    };\r\n}\r\n\r\ninterface PriceProps{\r\n    coinId: string,\r\n}\r\n\r\nfunction checkPositive(value: number | undefined){\r\n    if(value) {\r\n        return value > 0;\r\n    }\r\n}\r\n\r\nfunction Price({coinId}: PriceProps) {\r\n    const { isLoading, data:priceData } = useQuery<PriceData>([\"tickers\", coinId], () => fetchCoinTickers(coinId),\r\n    { refetchInterval: 5000, }\r\n);\r\n    return (\r\n        <div>\r\n            {isLoading? (\"Loading Price Chart...\"\r\n            ) : (\r\n                <>\r\n               <PriceWrapper isPositive={checkPositive(priceData?.quotes.USD.price) === true}>\r\n                   <span>Price:</span>\r\n                   <span>$ {priceData?.quotes.USD.price.toFixed(2)}</span>\r\n               </PriceWrapper>\r\n               <PriceWrapper isPositive={checkPositive(priceData?.quotes.USD.market_cap_change_24h) === true}>\r\n                   <span>Market change 24h:</span>\r\n                   <span>{priceData?.quotes.USD.market_cap_change_24h.toFixed(2)} %</span>\r\n               </PriceWrapper>\r\n               <PriceWrapper isPositive={checkPositive(priceData?.quotes.USD.percent_change_30m) === true}>\r\n                   <span>Percent Change (30m):</span>\r\n                   <span>{priceData?.quotes.USD.percent_change_30m.toFixed(2)} %</span>\r\n               </PriceWrapper>\r\n               <PriceWrapper isPositive={checkPositive(priceData?.quotes.USD.percent_change_1h) === true}>\r\n                   <span>Percent Change (1h):</span>\r\n                   <span>{priceData?.quotes.USD.percent_change_1h.toFixed(2)} %</span>\r\n               </PriceWrapper>\r\n               <PriceWrapper isPositive={checkPositive(priceData?.quotes.USD.percent_change_12h) === true}>\r\n                   <span>Percent Change (12h):</span>\r\n                   <span>{priceData?.quotes.USD.percent_change_12h.toFixed(2)} %</span>\r\n               </PriceWrapper>\r\n               <PriceWrapper isPositive={checkPositive(priceData?.quotes.USD.percent_change_24h) === true}>\r\n                   <span>Percent Change (24h):</span>\r\n                   <span>{priceData?.quotes.USD.percent_change_24h.toFixed(2)} %</span>\r\n               </PriceWrapper>\r\n               \r\n               </>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Price;","import { useQuery } from \"react-query\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { Switch, Route, useLocation, useParams, useRouteMatch } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport { fetchCoinInfo, fetchCoinTickers } from \"../api\";\r\nimport Chart from \"./Chart\";\r\nimport Price from \"./Price\";\r\n\r\n\r\nconst Container = styled.div`\r\n    padding: 0px 20px;\r\n    max-width: 480px;\r\n    margin: 0 auto;\r\n`;\r\n\r\nconst Header = styled.header`\r\n    height: 10vh;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n    font-size: 48px;\r\n    color: ${(props) => props.theme.accentColor};\r\n    padding-right: 50px;\r\n`;\r\n\r\nconst Loader = styled.span`\r\n  text-align: center;\r\n  display: block;\r\n`;\r\n\r\nconst Overview = styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    padding: 10px 20px;\r\n    border-radius: 10px;\r\n    background-color: ${(props) => props.theme.overviewColor};\r\n`;\r\nconst OverviewItem = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    color: ${(props) => props.theme.coinsTextColor};\r\n\r\n    span:first-child {\r\n        font-size: 10px;\r\n        font-weight: 400;\r\n        text-transform: uppercase;\r\n        margin-bottom: 5px;\r\n    }\r\n`;\r\nconst Description = styled.p`\r\n    margin: 20px 0px;\r\n    color: ${(props) => props.theme.coinsTextColor};\r\n`;\r\n\r\nconst Taps = styled.div`\r\n    display: grid;\r\n     grid-template-columns: repeat(2, 1fr);\r\n    margin: 25px 0px;\r\n    gap: 10px; \r\n`;\r\n\r\nconst Tap = styled.span<{ isActive: boolean }>`\r\n    text-align: center;\r\n    text-transform: uppercase;\r\n    font-size: 12px;\r\n    font-weight: 400;\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n    padding: 7px 0px;\r\n    border-radius: 10px;\r\n    background-color: ${(props) => props.theme.overviewColor};\r\n    color: ${(props) => props.isActive ? props.theme.accentColor : props.theme.coinsTextColor};\r\n`;\r\n\r\nconst Backspace = styled.div`\r\n    width:50px;\r\n    height:38px;\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n    display: flex;\r\n    justify-content: center;\r\n    border-radius: 10px;\r\n    font-size: 30px;\r\n    color: white;\r\n`;\r\n\r\nconst BinWrapper = styled.div``;\r\n\r\n\r\ninterface RouteParams {\r\n    coinId: string;\r\n}\r\n\r\ninterface RouteState {\r\n    name: string;\r\n}\r\n\r\ninterface InfoData {\r\n    id: string;\r\n    name: string;\r\n    symbol: string;\r\n    rank: number;\r\n    is_new: boolean;\r\n    is_active: boolean;\r\n    type: string;\r\n    contract: string;\r\n    platform: string;\r\n    description: string;\r\n    message: string;\r\n    open_source: boolean;\r\n    started_at: string;\r\n    development_status: string;\r\n    hardware_wallet: boolean;\r\n    proof_type: string;\r\n    org_structure: string;\r\n    hash_algorithm: string;\r\n    first_data_at: string;\r\n    last_data_at: string;\r\n}\r\n\r\ninterface PriceData {\r\n    id: string;\r\n    name: string;\r\n    symbol: string;\r\n    rank: number;\r\n    circulating_supply: number;\r\n    total_supply: number;\r\n    max_supply: number;\r\n    beta_value: number;\r\n    first_data_at: string;\r\n    last_updated: string;\r\n    quotes: {\r\n        USD: {\r\n            ath_date: string;\r\n            ath_price: number;\r\n            market_cap: number;\r\n            market_cap_change_24h: number;\r\n            percent_change_1h: number;\r\n            percent_change_1y: number;\r\n            percent_change_6h: number;\r\n            percent_change_7d: number;\r\n            percent_change_12h: number;\r\n            percent_change_15m: number;\r\n            percent_change_24h: number;\r\n            percent_change_30d: number;\r\n            percent_change_30m: number;\r\n            percent_from_price_ath: number;\r\n            price: number;\r\n            volume_24h: number;\r\n            volume_24h_change_24h: number;\r\n        }\r\n    };\r\n}\r\n\r\n\r\nfunction Coin() {\r\n    const { coinId } = useParams<RouteParams>();\r\n    const { state } = useLocation<RouteState>();   // Link to 로 보내어 온 객체 받기\r\n    const priceMatch = useRouteMatch(\"/:coinId/price\");\r\n    const chartMatch = useRouteMatch(\"/:coinId/chart\");\r\n    const { isLoading: infoLoading, data: infoData } = useQuery<InfoData>([\"info\", coinId], () => fetchCoinInfo(coinId));\r\n    const { isLoading: tickersLoading, data: tickersData } = useQuery<PriceData>([\"tickers\", coinId], () => fetchCoinTickers(coinId),\r\n        { refetchInterval: 5000, }\r\n    );\r\n    const loading = infoLoading || tickersLoading;                                                    // api.ts에 함수를 호출해서 coinId 인자 넘겨줌\r\n    return (\r\n        <Container>\r\n            <Helmet>\r\n                <title>\r\n                    {state?.name ? state.name : loading ? \"Loading...\" : infoData?.name}\r\n                </title>\r\n            </Helmet>\r\n            <Header>\r\n                <Backspace>\r\n                    <Link to={`/`}>\r\n                        <h1>&larr;</h1>\r\n                    </Link>\r\n                </Backspace>\r\n                <Title>\r\n                    {state?.name ? state.name : loading ? \"Loading...\" : infoData?.name}\r\n                </Title>\r\n                <BinWrapper>\r\n                </BinWrapper>\r\n            </Header>\r\n            {loading ? (\r\n                <Loader>Loaing...</Loader>\r\n            ) : (\r\n                <>\r\n                    <Overview>\r\n                        <OverviewItem>\r\n                            <span>Rank:</span>\r\n                            <span>{infoData?.rank}</span>\r\n                        </OverviewItem>\r\n                        <OverviewItem>\r\n                            <span>Symbol:</span>\r\n                            <span>{infoData?.symbol}</span>\r\n                        </OverviewItem>\r\n                        <OverviewItem>\r\n                            <span>Price:</span>\r\n                            <span>{tickersData?.quotes.USD.price.toFixed(2)}</span>\r\n                        </OverviewItem>\r\n                    </Overview>\r\n                    <Description>{infoData?.description}</Description>\r\n                    <Overview>\r\n                        <OverviewItem>\r\n                            <span>Total Suply: </span>\r\n                            <span>{tickersData?.total_supply}</span>\r\n                        </OverviewItem>\r\n                        <OverviewItem>\r\n                            <span>Max Supply:</span>\r\n                            <span>{tickersData?.max_supply}</span>\r\n                        </OverviewItem>\r\n                    </Overview>\r\n\r\n                    <Taps>\r\n                        <Tap isActive={chartMatch !== null}>\r\n                            <Link to={`/${coinId}/chart`}>Chart</Link>\r\n                        </Tap>\r\n                        <Tap isActive={priceMatch !== null}>\r\n                            <Link to={`/${coinId}/price`}>Price</Link>\r\n                        </Tap>\r\n                    </Taps>\r\n\r\n                    <Switch>\r\n                        <Route path={`/:coinId/price`}>\r\n                            <Price coinId={coinId} />\r\n                        </Route>\r\n                        <Route path={`/:coinId/chart`}>\r\n                            <Chart coinId={coinId} />\r\n                        </Route>\r\n                    </Switch>\r\n                </>\r\n            )}\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default Coin;\r\n","import { atom } from \"recoil\";\r\n\r\nexport const isDarkAtom = atom({\r\n    key:\"isDark\",\r\n    default:true,\r\n});","import { useState } from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { useQuery } from \"react-query\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useSetRecoilState } from \"recoil\";\r\nimport styled from \"styled-components\";\r\nimport { fetchCoins } from \"../api\";\r\nimport { isDarkAtom } from \"../atoms\";\r\n\r\nconst Container = styled.div`\r\n    padding: 0px 20px;\r\n    max-width: 480px;\r\n    margin: 0 auto;\r\n`;\r\n\r\nconst Header = styled.header`\r\n    height: 10vh;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n`;\r\n\r\nconst CoinsList = styled.ul``;\r\n\r\nconst Coin = styled.li`\r\n    background-color: ${(props) => props.theme.boxColor};\r\n    color: ${(props) => props.theme.textColor};\r\n    padding: 20px;\r\n    border-radius: 15px;\r\n    margin-bottom: 10px;  \r\n    display: flex;\r\n    align-items: center;\r\n    a{\r\n        transition: color 0.2s ease-in;\r\n        display: block;\r\n    }\r\n    &:hover{\r\n        a{\r\n            color: ${(props) => props.theme.accentColor};\r\n        }\r\n    }\r\n`;\r\n\r\nconst Title = styled.h1`\r\n    font-size: 30px;\r\n    color: ${(props) => props.theme.accentColor};\r\n    font-weight: bold;\r\n`;\r\n\r\nconst Loader = styled.span`\r\n  text-align: center;\r\n  display: block;\r\n`;\r\n\r\nconst Img = styled.img`\r\n    width: 35px;\r\n    height: 35px;\r\n    margin-right: 10px;\r\n`;\r\n\r\nconst Switch = styled.span`\r\nmargin-left: 10px;\r\npadding-top: 5px;\r\n.switch-button {\r\n       position: relative; \r\n       display: inline-block; \r\n       width: 50px; \r\n       height: 25px; \r\n    }\r\n    .switch-button input { \r\n        opacity: 0; \r\n        width: 0; \r\n        height: 0; \r\n    }\r\n    .onoff-switch {\r\n         position: absolute; \r\n         cursor: pointer; \r\n         top: 0; \r\n         left: 0; \r\n         right: 0; \r\n         bottom: 0; \r\n         border-radius:20px; \r\n         background-color: #ccc; \r\n         box-shadow: inset 1px 5px 1px #999; \r\n         -webkit-transition: .4s; \r\n         transition: .4s; \r\n        }\r\n        .onoff-switch:before {\r\n             position: absolute; \r\n             content: \"\"; \r\n             height: 18px; \r\n             width: 18px; \r\n             left: 4px; \r\n             bottom: 4px; \r\n             background-color: #fff; \r\n             -webkit-transition: .5s; \r\n             transition: .4s; \r\n             border-radius:20px; \r\n            }\r\n            .switch-button input:checked + .onoff-switch {\r\n                 background-color: #F2D522; \r\n                 box-shadow: inset 1px 5px 1px #E3AE56; \r\n                }\r\n            .switch-button input:checked + .onoff-switch:before {\r\n                 -webkit-transform: translateX(26px);\r\n                  -ms-transform: translateX(26px);\r\n                   transform: translateX(26px);\r\n                 }\r\n\r\n`;\r\n\r\n// 코인데이터 타입 정의\r\ninterface ICoin {\r\n    id: string,\r\n    name: string,\r\n    symbol: string,\r\n    rank: number,\r\n    is_new: boolean,\r\n    is_active: boolean,\r\n    type: string,\r\n}\r\n\r\nfunction Coins() {\r\n    const { isLoading, data } = useQuery<ICoin[]>(\"allCoins\", fetchCoins)   //api.ts fetchCoins 함수 이용\r\n    const setDarkAtom = useSetRecoilState(isDarkAtom);  // 수정할 아톰 가져오기\r\n    const toggleDarkAtom = () => setDarkAtom((prev) => !prev);  // setState 처럼 원하는 함수 내용으로 수정\r\n    return (\r\n        <Container>\r\n            <Helmet>\r\n                <title>\r\n                    Moon's Coin{isLoading ? \"(loading)\" : `(${data?.slice(0, 100).length})`}\r\n                </title>\r\n            </Helmet>\r\n            <Header>\r\n                <Title>Moon's Coin{isLoading ? \"(loading)\" : `(${data?.slice(0, 100).length})`}</Title>\r\n                <Switch>\r\n                    <label className=\"switch-button\">\r\n                        <input type=\"checkbox\"  ></input>\r\n                        <span onClick={toggleDarkAtom} className=\"onoff-switch\"></span>\r\n                    </label>\r\n                </Switch>\r\n            </Header>\r\n            {isLoading ? (\r\n                <Loader>Loaing...</Loader>\r\n            ) : (\r\n                <CoinsList>\r\n                    {data?.slice(0, 100).map(coin => (\r\n                        <Link to={{\r\n                            pathname: `/${coin.id}`,\r\n                            state: { name: coin.name },\r\n                        }}>\r\n                            <Coin key={coin.id}>\r\n                                <Img src={`https://cryptoicon-api.vercel.app/api/icon/${coin.symbol.toLowerCase()}`} />\r\n                                {coin.name} &rarr;\r\n                            </Coin>\r\n                        </Link >\r\n                    ))}\r\n                </CoinsList>\r\n            )\r\n            }\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default Coins;","import { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport Coin from \"./routes/Coin\";\r\nimport Coins from \"./routes/Coins\";\r\n\r\ninterface IRouterProps{\r\n}\r\n\r\nfunction Router() {\r\n    return (\r\n        <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n            <Switch>\r\n                <Route path=\"/:coinId\">\r\n                    <Coin />\r\n                </Route>\r\n                <Route path=\"/\">\r\n                    <Coins />\r\n                </Route>\r\n            </Switch>\r\n        </BrowserRouter >\r\n    )\r\n}\r\n\r\nexport default Router;","import { DefaultTheme } from \"styled-components\";\r\n\r\nexport const darkTheme: DefaultTheme = {\r\n    bgColor: \"#2f3640\",\r\n    coinsTextColor: \"white\",\r\n    textColor: \"black\",\r\n    accentColor: \"#7d70db\",\r\n    boxColor: \"white\",\r\n    overviewColor: \"rgba(0, 0, 0, 0.3)\",\r\n};\r\n\r\nexport const lightTheme: DefaultTheme = {\r\n    bgColor: \"whitesmoke\",\r\n    coinsTextColor: \"black\",\r\n    textColor: \"white\",\r\n    accentColor: \"#7d70db\",\r\n    boxColor: \"#B2ABC1\",\r\n    overviewColor: \"rgba(178, 171, 193, 0.3)\",\r\n};","import styled, { createGlobalStyle, ThemeProvider } from \"styled-components\";\nimport Router from \"./Router\";\nimport { ReactQueryDevtools } from \"react-query/devtools\";\nimport { darkTheme, lightTheme } from \"./theme\";\nimport { useRecoilValue, useSetRecoilState } from \"recoil\";\nimport { isDarkAtom } from \"./atoms\";\n\nconst GlobalStyle = createGlobalStyle`\n// fonts\n@import url('https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@300;400&display=swap');\n  \nhtml, body, div, span, applet, object, iframe,\n  h1, h2, h3, h4, h5, h6, p, blockquote, pre,\n  a, abbr, acronym, address, big, cite, code,\n  del, dfn, em, img, ins, kbd, q, s, samp,\n  small, strike, strong, sub, sup, tt, var,\n  b, u, i, center,\n  dl, dt, dd, menu, ol, ul, li,\n  fieldset, form, label, legend,\n  table, caption, tbody, tfoot, thead, tr, th, td,\n  article, aside, canvas, details, embed,\n  figure, figcaption, footer, header, hgroup,\n  main, menu, nav, output, ruby, section, summary,\n  time, mark, audio, video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n  }\n  /* HTML5 display-role reset for older browsers */\n  article, aside, details, figcaption, figure,\n  footer, header, hgroup, main, menu, nav, section {\n    display: block;\n  }\n  /* HTML5 hidden-attribute fix for newer browsers */\n  *[hidden] {\n      display: none;\n  }\n  body {\n    line-height: 1;\n  }\n  menu, ol, ul {\n    list-style: none;\n  }\n  blockquote, q {\n    quotes: none;\n  }\n  blockquote:before, blockquote:after,\n  q:before, q:after {\n    content: '';\n    content: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n  *{\n    box-sizing: border-box;\n  }\n  body{\n    font-family: 'Source Sans Pro', sans-serif;\n    background-color: ${(props) => props.theme.bgColor};\n    color: ${(props) => props.theme.textColor};  \n  }\n  a{\n    text-decoration:none;\n    color: inherit; // 부모로부터 속성 가져오기\n  }\n  p{\n    line-height: 20px;\n  }\n`;\n\nfunction App() {\n  const isDark = useRecoilValue(isDarkAtom);\n\n\n  return (\n    <>\n      <ThemeProvider theme={isDark ? darkTheme : lightTheme}>\n        <GlobalStyle />\n        <Router />\n        <ReactQueryDevtools initialIsOpen={true} />\n      </ThemeProvider>\n    </>\n  );\n}\n\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport { RecoilRoot } from 'recoil';\nimport App from './App';\n\nconst queryClient = new QueryClient();\n\nReactDOM.render(\n  <React.StrictMode>\n    <RecoilRoot>\n      <QueryClientProvider client={queryClient}>\n        <App />\n      </QueryClientProvider>\n    </RecoilRoot>\n  </React.StrictMode >,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}